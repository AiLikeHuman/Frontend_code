<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>회원가입 및 로그인</title>
    <link rel="stylesheet" href="../css/index.css" />
    <link rel="stylesheet" href="../css/signup.css" />
  </head>
  <body>
    <div class="container" id="signupContainer">
      <h2>회원가입</h2>
      <form id="signupForm" onsubmit="handleSignup(event)">
        <input
          type="text"
          id="signupName"
          placeholder="이름을 입력해주세요"
          required
        />
        <input type="email" id="signupEmail" placeholder="이메일을 입력해주세요" required />
        <input
          type="password"
          id="signupPassword"
          placeholder="비밀번호를 입력해주세요"
          required
        />
        <button type="submit" id="signupButton" disabled>회원가입</button>
      </form>
      <div class="switch-form">
        <p>
          이미 회원이신가요?
          <a href="#" onclick="toggleForms()">로그인</a>
        </p>
      </div>
    </div>

    <div class="container" id="loginContainer" style="display: none">
      <h2>로그인</h2>
      <form id="loginForm" onsubmit="handleLogin(event)">
        <input type="email" id="loginEmail" placeholder="이메일" required />
        <input
          type="password"
          id="loginPassword"
          placeholder="비밀번호"
          required
        />
        <button type="submit">로그인</button>
      </form>
      <div class="switch-form">
        <p>
          아직 회원이 아니신가요?
          <a href="#" onclick="toggleForms()">회원가입</a>
        </p>
      </div>
    </div>

    <script src="../js/fetch.js"></script>
    <script src="../js/signup.js"></script>
    <script>
      function toggleForms() {
        const loginContainer = document.getElementById("loginContainer");
        const signupContainer = document.getElementById("signupContainer");

        if (loginContainer.style.display === "none") {
          loginContainer.style.display = "block";
          signupContainer.style.display = "none";
        } else {
          loginContainer.style.display = "none";
          signupContainer.style.display = "block";
        }
      }

      function handleLogin(event) {
        event.preventDefault();
        const email = document.getElementById("loginEmail").value;
        const password = document.getElementById("loginPassword").value;
        loginUser(email, password);
      }

      function handleSignup(event) {
        event.preventDefault();
        const email = document.getElementById("signupEmail").value;
        const password = document.getElementById("signupPassword").value;
        signupUser(email, password);
      }
    </script>
  </body>
</html>
